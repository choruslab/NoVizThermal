html(lang="en")

    head
        meta(charset="utf-8")
        title Usability Testing Administration Page

        //- JS
        script(src="/socket.io/socket.io.js")
        script(src="../communication.js")

        include ../partials/bootstrap.pug

    body
        include ../partials/header.pug
            //- The next is indented so it is considered part of the div in hearder.pug
            hr(class="my-4")
            a(class="btn btn-secondary btn-sm" href="/" role="button") Start over

        div(class="container")
            div(class="alert alert-warning" role="alert")
                h3 Before you start! 
                p To maintain the integrity of our data, you cannot visit a test website more than once. Be sure of your assessment before closing a tab. You will not be able to reopen a test site.

        div(class="container")
            form(method="post", action="/handler")
                div(class="form-group")
                    input(class="form-control" type="text" name="participantID" placeholder="Participant ID")
                    input(class="form-control" type="text" name="variation" value="" + id hidden)
                br

                each key in Object.keys(variation)
                    //- WEBSITE
                    //- a(href="" + variation[key][0] id="" + variation[key][1] target="_blank" onclick="getElementById('open_site1').value=Date();linkDisable(this);heaterON()"): h3 Website #{key}
                    a(href="" + variation[key][0] id="" + variation[key][1] target="_blank" onclick="openSiteHandler(this, " + variation[key][1] + ", " + key + ")"): h3 Website #{key}
                    input(class="form-control" type="text" name="order" + key id="order" + key value = "" + key hidden)
                    input(class="form-control" type="text" name="open_site" + key id="open_site" + key hidden)
                    br

                    //- Safe/Unsafe
                    label(class="assessment") The above website is...
                        input(class="form-control" type="text" name="close_site" + key id="close_site" + key hidden)

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="assessment_site" + key id="assessment_high" value="high" onclick="closeSiteHandler(" + key + ")")
                            label(class="form-check-label" for="assessment_safe") High risk

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="assessment_site" + key id="assessment_low" value="low" onclick="closeSiteHandler(" + key + ")")
                            label(class="form-check-label" for="assessment_unsafe") Low risk
                    br

                    //- Confidence Rating
                    label(class="confidence-level") I am confident in my assessment.

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="confidence_site" + key id="confidence0" value="0")
                            label(class="form-check-label" for="confidence0") 0 - Strongly Disagree

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="confidence_site" + key id="confidence1" value="1")
                            label(class="form-check-label" for="confidence1") 1 - Disagree

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="confidence_site" + key id="confidence2" value="2")
                            label(class="form-check-label" for="confidence2") 2 - Neutral

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="confidence_site" + key id="confidence3" value="3")
                            label(class="form-check-label" for="confidence3") 3 - Agree

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="confidence_site" + key id="confidence4" value="4")
                            label(class="form-check-label" for="confidence4") 4 - Strongly Agree
                    br

                    //- Ease Rating
                    label(class="confidence-level") It was easy for me to assess this website.

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="ease_site" + key id="ease0" value="0")
                            label(class="form-check-label" for="ease0") 0 - Strongly Disagree

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="ease_site" + key id="ease1" value="1")
                            label(class="form-check-label" for="ease1") 1 - Disagree

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="ease_site" + key id="ease2" value="2")
                            label(class="form-check-label" for="ease2") 2 - Neutral

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="ease_site" + key id="ease3" value="3")
                            label(class="form-check-label" for="ease3") 3 - Agree

                        div(class="form-check")
                            input(class="form-check-input" type="radio" name="ease_site" + key id="ease4" value="4")
                            label(class="form-check-label" for="ease4") 4 - Strongly Agree      
                    br

                    hr

                button(type="submit" class="btn btn-primary") Submit Assessments
                br